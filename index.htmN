<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sondage Marketing - McDo X Chocolat A/B Test</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    
    <style>
        /*
        ==================================================
        CSS (STYLE MCDO THÉMATIQUE SANS RACINES)
        ==================================================
        */
        :root {
            --sapin-green: #004d40;
            --light-cream: #f9f9f9;
            --accent-gold: #ffc72c;
            --accent-red: #c00;
            --text-on-dark: #f0f0f0;
            --text-dark: #333;
            --text-light: #555;
            --mcdo-font: 'Oswald', sans-serif;
            --body-font: Arial, sans-serif;
        }

        body {
            font-family: var(--body-font);
            background-color: var(--sapin-green);
            color: var(--text-on-dark);
            margin: 0;
            padding: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background-color: var(--light-cream);
            padding: 50px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            max-width: 750px;
            width: 100%;
            border-top: 8px solid var(--accent-gold); 
            color: var(--text-dark);
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        header h1 {
            font-family: var(--mcdo-font);
            color: var(--accent-gold);
            font-size: 3.2em;
            font-weight: 700;
            margin-bottom: 10px;
            line-height: 1.1;
        }

        header p {
            color: var(--text-light); 
            font-size: 1.2em;
        }

        /* Style des groupes de questions (cartes) */
        .question-group {
            margin-bottom: 30px;
            padding: 25px;
            border: none;
            border-radius: 10px;
            background-color: var(--bg-white); 
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08); 
        }

        .question-group h3 {
            font-family: var(--mcdo-font);
            margin-top: 0;
            color: var(--sapin-green);
            font-size: 1.6em;
            font-weight: 500;
            /* Lignes modifiées pour supprimer la barre verticale (racine) */
            border-left: none; 
            padding-left: 0;
            
            margin-bottom: 20px;
        }

        /* Sous-titres des questions (h4) */
        .question-group h4 {
            font-family: var(--mcdo-font);
            color: var(--accent-red);
            font-size: 1.2em;
            margin-top: 25px;
            margin-bottom: 10px;
        }
        
        /* Conteneur pour l'image unique dans l'A/B Test */
        .ab-test-image-container {
            text-align: center;
            margin-bottom: 20px;
        }
        .ab-test-image-container img {
            max-width: 90%;
            height: auto;
            border: 4px solid var(--accent-gold);
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }
        
        /* Styles des autres éléments */
        label {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 12px;
            border-radius: 8px;
            transition: background-color 0.2s, box-shadow 0.2s;
            cursor: pointer;
            border: 1px solid #eee;
        }

        label:hover {
            background-color: #fff3cc;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        input[type="radio"], input[type="checkbox"] {
            appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid var(--accent-gold);
            border-radius: 50%; 
            margin-right: 15px;
            display: grid;
            place-content: center;
            cursor: pointer;
            transition: border-color 0.2s;
            flex-shrink: 0;
        }
        
        input[type="checkbox"] {
            border-radius: 4px;
        }

        input[type="radio"]::before, input[type="checkbox"]::before {
            content: "";
            width: 10px;
            height: 10px;
            border-radius: 50%;
            transform: scale(0);
            transition: 120ms transform ease-in-out;
            box-shadow: inset 1em 1em var(--accent-red);
        }

        input[type="checkbox"]::before {
            border-radius: 2px;
        }

        input[type="radio"]:checked, input[type="checkbox"]:checked {
            border-color: var(--accent-red);
        }
        
        input[type="radio"]:checked::before, input[type="checkbox"]:checked::before {
            transform: scale(1);
        }
        
        input[type="number"], input[type="text"] {
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            width: 90%;
            margin-top: 10px;
            font-size: 1em;
            transition: border-color 0.2s;
            display: block;
        }

        label.text-input-label {
            display: block;
            margin-top: 5px;
            padding: 0;
            border: none;
            box-shadow: none;
        }

        label.text-input-label:hover {
            background-color: transparent;
            box-shadow: none;
        }

        button {
            font-family: var(--mcdo-font);
            display: block;
            width: 100%;
            padding: 18px;
            background-color: var(--accent-red);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.5em;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin-top: 30px;
            letter-spacing: 2px;
        }

        button:hover {
            background-color: #a00;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        #results {
            margin-top: 40px;
            padding: 30px;
            border: 2px solid var(--sapin-green);
            background-color: #e8f5e9;
            border-radius: 10px;
            display: none;
            text-align: left;
            color: var(--text-dark);
        }

        #results h2 {
            font-family: var(--mcdo-font);
            color: var(--sapin-green);
            text-align: center;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Sondage Marketing : Le Chocolat McDo</h1>
        <p>Aidez-nous à affiner notre offre en répondant à ce questionnaire sur vos habitudes.</p>
    </header>

    <form id="marketingSurvey">
        
        <div class="question-group">
            <h3>Partie 1 – Profil du répondant</h3>
            
            <h4>Quel est votre âge ?</h4>
            <label><input type="radio" name="age" value="moins_18" required> Moins de 18 ans</label>
            <label><input type="radio" name="age" value="18_24"> 18-24 ans</label>
            <label><input type="radio" name="age" value="25_34"> 25-34 ans</label>
            <label><input type="radio" name="age" value="35_44"> 35-44 ans</label>
            <label><input type="radio" name="age" value="45_plus"> 45 ans et plus</label>

            <h4>Quelle est votre situation actuelle ?</h4>
            <label><input type="radio" name="situation" value="etudiant" required> Étudiant</label>
            <label><input type="radio" name="situation" value="salarie"> Salarié</label>
            <label><input type="radio" name="situation" value="independant"> Indépendant</label>
            <label><input type="radio" name="situation" value="sans_emploi"> Sans emploi</label>
            <label class="text-input-label">Autre : <input type="text" name="situation_autre" placeholder="Précisez"></label>
            
            <h4>Dans quelle zone géographique résidez-vous ?</h4>
            <label><input type="radio" name="zone" value="urbaine" required> Zone urbaine</label>
            <label><input type="radio" name="zone" value="rurale"> Zone rurale / périurbaine</label>
        </div>

        <div class="question-group">
            <h3>Partie 2 – Habitudes de consommation chez McDonald’s</h3>
            
            <h4>À quelle fréquence allez-vous chez McDonald’s ?</h4>
            <label><input type="radio" name="frequence" value="plusieurs_par_semaine" required> Plusieurs fois par semaine</label>
            <label><input type="radio" name="frequence" value="une_par_semaine"> Environ une fois par semaine</label>
            <label><input type="radio" name="frequence" value="1_a_3_par_mois"> 1 à 3 fois par mois</label>
            <label><input type="radio" name="frequence" value="moins_une_par_mois"> Moins d’une fois par mois</label>
            <label><input type="radio" name="frequence" value="jamais"> Jamais</label>

            <h4>Quelle est votre dépense moyenne lors d’une visite chez McDonald’s ?</h4>
            <label><input type="radio" name="depense" value="moins_8" required> Moins de 8 €</label>
            <label><input type="radio" name="depense" value="8_12"> 8 à 12 €</label>
            <label><input type="radio" name="depense" value="13_17"> 13 à 17 €</label>
            <label><input type="radio" name="depense" value="plus_17"> Plus de 17 €</label>

            <h4>À quel moment de la journée allez-vous le plus souvent chez McDonald’s ?</h4>
            <label><input type="radio" name="moment" value="midi" required> Le midi</label>
            <label><input type="radio" name="moment" value="soir"> Le soir</label>
            <label><input type="radio" name="moment" value="fin_soiree"> En fin de soirée</label>
            <label><input type="radio" name="moment" value="week_end"> En week-end</label>
            <label class="text-input-label">Autre : <input type="text" name="moment_autre" placeholder="Précisez"></label>
            
            <h4>Quelles sont vos motivations lorsque vous allez chez McDonald’s ?</h4>
            <label><input type="checkbox" name="motivation" value="prix"> Prix abordable</label>
            <label><input type="checkbox" name="motivation" value="rapidite"> Rapidité du service</label>
            <label><input type="checkbox" name="motivation" value="gout"> Goût / plaisir</label>
            <label><input type="checkbox" name="motivation" value="habitude"> Habitude</label>
            <label><input type="checkbox" name="motivation" value="accessibilite"> Accessibilité (proximité)</label>
            <label class="text-input-label">Autre : <input type="text" name="motivation_autre" placeholder="Précisez"></label>
            
            <h4>Lorsque vous consommez chez McDonald’s, préférez-vous :</h4>
            <label><input type="radio" name="conso_pref" value="sur_place" required> Manger sur place</label>
            <label><input type="radio" name="conso_pref" value="emporter"> Prendre à emporter</label>
            <label><input type="radio" name="conso_pref" value="drive"> Utiliser le drive</label>
            <label><input type="radio" name="conso_pref" value="appli"> Commander via l’application</label>
        </div>

        <div class="question-group">
            <h3>Partie 3 – Perception des prix et de l’offre</h3>
            
            <h4>Trouvez-vous que les prix chez McDonald’s ont augmenté ces dernières années ?</h4>
            <label><input type="radio" name="prix_augmente" value="oui_bcp" required> Oui, beaucoup</label>
            <label><input type="radio" name="prix_augmente" value="oui_un_peu"> Oui, un peu</label>
            <label><input type="radio" name="prix_augmente" value="non"> Non, pas vraiment</label>
            <label><input type="radio" name="prix_augmente" value="sais_pas"> Je ne sais pas</label>

            <h4>Trouvez-vous que le rapport qualité/prix chez McDonald’s est :</h4>
            <label><input type="radio" name="qualite_prix" value="excellent" required> Excellent</label>
            <label><input type="radio" name="qualite_prix" value="bon"> Bon</label>
            <label><input type="radio" name="qualite_prix" value="moyen"> Moyen</label>
            <label><input type="radio" name="qualite_prix" value="mauvais"> Mauvais</label>

            <h4>Utilisez-vous l’application McDo+ pour commander ou profiter d’offres ?</h4>
            <label><input type="radio" name="appli_mcdo" value="regulierement" required> Oui, régulièrement</label>
            <label><input type="radio" name="appli_mcdo" value="temps_en_temps"> Oui, de temps en temps</label>
            <label><input type="radio" name="appli_mcdo" value="jamais"> Non, jamais</label>

            <h4>Êtes-vous fidèle à McDonald’s (par rapport aux autres fast-foods) ?</h4>
            <label><input type="radio" name="fidelite" value="exclusivement" required> Oui, exclusivement</label>
            <label><input type="radio" name="fidelite" value="aussi_ailleurs"> Oui, mais j’y vais aussi ailleurs</label>
            <label><input type="radio" name="fidelite" value="varie"> Non, je varie souvent</label>

            <h4>Pensez-vous que McDonald’s propose une offre adaptée aux attentes actuelles (qualité, diversité, prix) ?</h4>
            <label><input type="radio" name="offre_adaptee" value="tout_a_fait" required> Oui tout à fait</label>
            <label><input type="radio" name="offre_adaptee" value="plutot_oui"> Plutôt oui</label>
            <label><input type="radio" name="offre_adaptee" value="plutot_non"> Plutôt non</label>
            <label><input type="radio" name="offre_adaptee" value="pas_du_tout"> Pas du tout</label>
        </div>
        
        <div class="question-group">
            <h3>Partie 4 – A/B Test de Concept Chocolat</h3>
            
            <div id="ab-test-section" style="display: none;">
                </div>

            <h4>Seriez-vous prêt à acheter le produit **McDo X Willy Wonka** ?</h4>
            <label>
                <input type="radio" name="achat_wonka" value="oui_wonka" required> Oui
            </label>
            <label>
                <input type="radio" name="achat_wonka" value="non_wonka"> Non
            </label>

            <h4>Seriez-vous prêt à acheter le produit **McDo Craq'n'Mac** ?</h4>
            <label>
                <input type="radio" name="achat_seul" value="oui_seul" required> Oui
            </label>
            <label>
                <input type="radio" name="achat_seul" value="non_seul"> Non
            </label>

            <h4>À quel prix seriez-vous prêt à acheter ce produit (supposé inclus dans un menu) ?</h4>
            <label><input type="radio" name="price" value="menu_plus_2" required> Prix du menu + 2 €</label>
            <label><input type="radio" name="price" value="menu_plus_3"> Prix du menu + 3 €</label>
            <label><input type="radio" name="price" value="menu_plus_4"> Prix du menu + 4 €</label>

        </div>

        <button type="submit">Valider mes réponses</button>
    </form>

    <div id="results">
        <h2>✅ Vos Réponses (Simulation)</h2>
        <p><strong>Version A/B Test vue :</strong> <span id="res_ab_version"></span></p>
        <p><strong>Âge :</strong> <span id="res_age"></span></p>
        <p><strong>Dépense moyenne :</strong> <span id="res_depense"></span></p>
        <p><strong>Achat Wonka :</strong> <span id="res_achat_wonka"></span></p>
        <p><strong>Achat Seul :</strong> <span id="res_achat_seul"></span></p>
        <p><strong>Prix Suggéré :</strong> <span id="res_price"></span></p>
        <p class="note">**NOTE IMPORTANTE :** Dans une campagne réelle, ces données seraient envoyées à une base de données (via un service backend) et non affichées ici.</p>
    </div>

</div>

<script>
    /*
    ==================================================
    JAVASCRIPT (LOGIQUE D'A/B TEST ET DE SOUMISSION)
    ==================================================
    */
    
    // Définition des deux versions de l'A/B test
    const abTestVersions = {
        'A': {
            title: "Question A : Comment percevez-vous cette première offre (Craq'n'Mac) ?",
            imageSrc: "image1.jpg", // NOUVEAU NOM : image1.jpg
            imageAlt: "Affiche McDo Craq'n'Mac"
        },
        'B': {
            title: "Question B : Comment percevez-vous cette première offre (McDo X Wonka) ?",
            imageSrc: "image2.jpg", // NOUVEAU NOM : image2.jpg
            imageAlt: "Affiche McDo X Willy Wonka"
        }
    };
    
    // 1. Choix aléatoire de la version à afficher (A ou B)
    const versionKeys = Object.keys(abTestVersions);
    const selectedVersionKey = versionKeys[Math.floor(Math.random() * versionKeys.length)];
    const selectedVersion = abTestVersions[selectedVersionKey];

    // 2. Création du HTML à injecter
    const abTestHtml = `
        <h4>${selectedVersion.title}</h4>
        <input type="hidden" name="ab_version" value="${selectedVersionKey}">
        <div class="ab-test-image-container">
            <img src="${selectedVersion.imageSrc}" alt="${selectedVersion.imageAlt}">
        </div>
    `;

    // 3. Injection et affichage de la section
    document.addEventListener('DOMContentLoaded', () => {
        const abTestSection = document.getElementById('ab-test-section');
        if (abTestSection) {
            abTestSection.innerHTML = abTestHtml;
            abTestSection.style.display = 'block';
        }
    });

    // LOGIQUE DE SOUMISSION DU FORMULAIRE
    document.getElementById('marketingSurvey').addEventListener('submit', function(event) {
        event.preventDefault();

        const form = event.target;
        
        // Fonction pour récupérer la valeur d'un radio group
        const getRadioValue = (name) => {
            const radio = form.querySelector(`input[name="${name}"]:checked`);
            return radio ? radio.value : 'Non renseigné';
        };
        
        // Récupération de la version A/B Test
        const ab_version = form.elements['ab_version'] ? form.elements['ab_version'].value : 'Non Testé';

        // Récupération des autres valeurs
        const age = getRadioValue('age');
        const situation = getRadioValue('situation');
        const zone = getRadioValue('zone');
        const frequence = getRadioValue('frequence');
        const depense = getRadioValue('depense');
        const moment = getRadioValue('moment');
        const conso_pref = getRadioValue('conso_pref');
        const prix_augmente = getRadioValue('prix_augmente');
        const qualite_prix = getRadioValue('qualite_prix');
        const appli_mcdo = getRadioValue('appli_mcdo');
        const fidelite = getRadioValue('fidelite');
        const offre_adaptee = getRadioValue('offre_adaptee');
        const achat_wonka = getRadioValue('achat_wonka');
        const achat_seul = getRadioValue('achat_seul');
        const price = getRadioValue('price');
        
        const motivations = Array.from(form.querySelectorAll('input[name="motivation"]:checked')).map(cb => cb.value);

        // Validation simple
        if (!ab_version || !age || !frequence || !achat_wonka || !achat_seul || !price) {
            alert("Veuillez répondre à toutes les questions principales pour continuer.");
            return;
        }

        // --- SIMULATION DE L'ENVOI DES DONNÉES ---
        const data = {
            // AJOUT DU RÉSULTAT DE L'A/B TEST
            ab_version_vue: ab_version, 
            age: age,
            situation: situation,
            zone: zone,
            frequence: frequence,
            depense: depense,
            moment: moment,
            motivations: motivations.join(', '), 
            conso_pref: conso_pref,
            prix_augmente: prix_augmente,
            qualite_prix: qualite_prix,
            appli_mcdo: appli_mcdo,
            fidelite: fidelite,
            offre_adaptee: offre_adaptee,
            achat_wonka: achat_wonka,
            achat_seul: achat_seul,
            price: price,
            situation_autre: form.elements['situation_autre'].value,
            moment_autre: form.elements['moment_autre'].value,
            motivation_autre: form.elements['motivation_autre'].value
        };
        
        console.log("Données complètes à envoyer :", data);


        // --- AFFICHAGE DES RÉSULTATS (Simulation) ---
        document.getElementById('res_ab_version').innerText = ab_version === 'A' ? 'A (Craq\'n\'Mac)' : 'B (Wonka)';
        document.getElementById('res_age').innerText = age;
        document.getElementById('res_depense').innerText = depense + ' €';
        document.getElementById('res_achat_wonka').innerText = achat_wonka === 'oui_wonka' ? 'Oui' : 'Non';
        document.getElementById('res_achat_seul').innerText = achat_seul === 'oui_seul' ? 'Oui' : 'Non';
        document.getElementById('res_price').innerText = price;
        
        document.getElementById('marketingSurvey').style.display = 'none'; 
        document.getElementById('results').style.display = 'block'; 
        
        alert("Merci pour votre participation !");
    });
</script>

</body>
</html>
